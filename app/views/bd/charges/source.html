{% extends "layout.html" %}

{% set title = "Charge source" %}

{% block pageTitle %}
  {{title}} - GOV.UK
{% endblock %}

{% block header %}
 {{ govukHeader({
   homepageUrl: "/",
   serviceName: "Manage your water abstraction or impoundment licence",
   serviceUrl: "#",
   containerClasses: "govuk-width-container",
   navigation: [
     {
       href: "#1",
       text: "Change password",
       active: true
     },
     {
       href: "#2",
       text: "Sign out"
     }
   ]
 }) }}
{% endblock %}

{% block beforeContent %}
  <!-- phase banner -->
  {% include "includes/feedback-banner.html" %}
  <div class="space--small">
    <!-- navigation block -->
    {% include "includes/nav/nav-bd-view.html" %}
  </div>
  <!--
    {{ govukBackLink({
      text: "Back",
      href: "javascript:history.back()"
    }) }}
    -->
{% endblock %}

{% block content %}
<div class="govuk-width-container">
  <main class="govuk-main-wrapper">
    <div class="govuk-width-container">

      <div class="govuk-grid-row">
        <div class="govuk-grid-column-two-thirds">

          <!-- page heading -->
          <span class="govuk-caption-l">Licence number 03/28/60/0032</span>
          <h1 class="govuk-heading-l">{{ title }}</h1>

        </div>
      </div>

      <form action="element-acls#factors" method="post" class="form" id="return-reference-error">

        {% from "radios/macro.njk" import govukRadios %}

          {{ govukRadios({
            idPrefix: "charge-source",
            name: "source",
            fieldset: {
            },
            items: [
              {
                value: "supported",
                text: "Supported (excluding Kielder)"
              },
              {
                checked: "checked",
                value: "unsuported",
                text: "Unsupported"
              },
              {
                value: "tidal",
                text: "Tidal"
              },
              {
                value: "Kielder",
                text: "Kielder"
              }
            ]
          })
        }}

        <button type="submit" class="govuk-button">
          Continue
        </button>

      </form>

    </div>

    <script src="/public/javascripts/jquery-1.11.3.js"></script>

    <script>
      $(function() {
        $('form[data-routing]').on('submit', function(ev) {
          // FInd selected radio button
          const url = $(this).find('input:checked').val();

          if(url) {
            ev.preventDefault();
            window.location.href = url;
            return false;
          }
        });
      })
    </script>

  </main>
</div>
{% endblock %}
