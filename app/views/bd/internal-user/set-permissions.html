{% extends "layout.html" %}

{% set title = "Set permissions" %}

{% block pageTitle %}
   {{title}} - GOV.UK
{% endblock %}

{% block header %}
 {{ govukHeader({
   homepageUrl: "/",
   serviceName: "Manage your water abstraction or impoundment licence",
   serviceUrl: "#",
   containerClasses: "govuk-width-container",
   navigation: [
     {
       href: "#1",
       text: "Change password",
       active: true
     },
     {
       href: "#2",
       text: "Sign out"
     }
   ]
 }) }}
{% endblock %}

{% block beforeContent %}
  <!-- phase banner -->
  {% include "includes/feedback-banner.html" %}
  <!-- navigation block -->
  <div class="space--small">
    <!-- navigation block -->
    {% include "includes/nav/nav-bd-manage.html" %}
  </div>

  {{ govukBackLink({
    text: "Back",
    href: "javascript:history.back()"
  }) }}

{% endblock %}

{% block content %}

<div class="govuk-grid-row">
  <div class="govuk-grid-column-two-thirds">

    <!-- permission options -->
    {% from "radios/macro.njk" import govukRadios %}

    {% set digitiseHtml %}

      {% set approverHtml %}

        {% from "checkboxes/macro.njk" import govukCheckboxes %}

          {{ govukCheckboxes({
            idPrefix: "approver",
            name: "approver-check",
            items: [
              {
                value: "approver",
                text: "Approver",
                label: {
                  classes: "govuk-label--s"
                },
                hint: {
                  text: "View licences, edit licence information, approve changes."
                }
              }
            ]
          }) }}

      {% endset -%}

      {% from "checkboxes/macro.njk" import govukCheckboxes %}

      {{ govukCheckboxes({
        idPrefix: "digitiser",
        name: "digitiser",

        items: [

          {
            value: "digitiser",
            text: "Digitiser",
            label: {
              classes: "govuk-label--s"
            },
            hint: {
              text: "View licences, edit licence information."
            },
            conditional: {
              html: approverHtml
            }
          }
        ]
      }) }}

    {% endset -%}

    {{ govukRadios({
      idPrefix: "permissions",
      name: "what-permissions",
      fieldset: {
        legend: {
          text: "Set permissions",
          isPageHeading: true,
          classes: "govuk-fieldset__legend--l"
        }
      },
      items: [
        {
          value: "environment-officer",
          text: "Environment Officer",
          label: {
            classes: "govuk-label--s"
          },
          hint: {
            text: "View licences, send hands-off flow notifications."
          }
        },
        {
          value: "integrated-environmental-planning",
          text: "Integrated Environmental Planning",
          label: {
            classes: "govuk-label--s"
          },
          hint: {
            text: "View licences, communicate with customers."
          }
        },
        {
          value: "national-permitting-service",
          text: "National Permitting Service",
          label: {
            classes: "govuk-label--s"
          },
          hint: {
            text: "View licences, manage renewals."
          },
          conditional: {
            html: digitiseHtml
          }
        },
        {
          value: "permitting-support",
          text: "Permitting and Support Centre",
          label: {
            classes: "govuk-label--s"
          },
          hint: {
            text: "View licences, support licence holders."
          }
        },
        {
          value: "waste-industry-regulatory-service",
          text: "Waste and Industry Regulatory Service",
          label: {
            classes: "govuk-label--s"
          },
          hint: {
            text: "View licences, manage returns, support."
          }
        },
        {
          value: "billing-data",
          text: "Water Resources Billing and Data",
          label: {
            classes: "govuk-label--s"
          },
          hint: {
            text: "View licences, manage returns, send return notices."
          }
        },
        {
          value: "water-resources-digital-delivery-team",
          text: "Water Resources Digital Delivery Team",
          label: {
            classes: "govuk-label--s"
          },
          hint: {
            text: "View licences."
          }
        }
      ]
    }) }}

    <a href="create-account-done" class="govuk-faux-button">
      Continue
    </a>

  </div>
</div>

{% endblock %}
